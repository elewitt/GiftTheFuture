generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model Gift {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  marketTicker String
  marketTitle  String
  side         String
  outcomeMint  String
  tokenAmount  Float
  costUSDC     Float

  senderPrivyId String
  senderEmail   String?

  recipientName    String
  recipientContact String
  giftMessage      String?

  recipientWalletAddress String?
  recipientPrivyId       String?

  status        String   @default("pending_payment")
  purchaseTxSig String?
  claimTxSig    String?
  claimedAt     DateTime?

  @@index([recipientContact])
  @@index([senderPrivyId])
  @@index([status])
}
